## 상관 계수의 해석

<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fdqp0qb%2Fbtq5C9kRHVl%2FREVtWvS1vKYbkzUeKP2v9k%2Fimg.png'>
<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F21jTg%2FbtqD7GXRDC8%2FD2M2jiiA0JbmxJvkrsnjdK%2Fimg.png'>

상관계수는 1에 가까울수록 양의 상관관계가 강하고 -1에 가까울수록 음의 상관 관계, 그리고 0에 가까울수록 상관관계가 없습니다. 

상관계수는 이상치의 유무에 따라 값의 영향이 크니 이상치 처리가 중요합니다.

## 상관계수 종류

: 상관계수에는 여러 종류가 있으며, 데이터의 특성과 분석 목적에 따라 적절한 상관계수를 선택해야 한다. 

1. 피어슨 상관계수 (Pearson Correlation Coefficient) : 가장 흔하게 사용되는 상관계수 중 하나도, 두 변수 간의 선형 관계를 측정한다. -1부터 1까지의 값을 가지며, 1에 가까우면 양의 선형 관계, -1에 가까우면 음의 선형 관계를 갖는다.

 

2. 스피어만 순위 상관계수 (Spearman Rank Correlation Coefficient) : 변수 간의 순위 관계를 기반으로 하는 비모수적인 상관계수이다. 데이터의 순위를 사용하므로 비선형이거나 비정규 분포를 가질 때에도 적용 가능하며, 상대적으로 이상치에 대해 민감하지 않다. 

 

3. 켄달의 τ (Kendall's Tau) : 두 변수 간의 순위 관계를 측정한다. 스피어만 순위 상관계수와 유사하지만 계산 방법이 다르며, 이상치에 대한 영향을 줄이는 특성이 있다.

 

4. 점-이계 상관계수 (Point-Biserial Correlation Coefficient) : 이진 변수와 연속형 변수 간의 상관계수를 측정. 일반적으로 하나는 이진 변수이고, 다른 하나는 연속형 변수일 때 사용된다. 

 

5. 범주형 변수를 위한 상관계수 : 크래머의 V, 피어슨의 카이제곱 상관계수 등 범주형 변수 간의 상관성을 측정하기 위해 여러 종류의 상관계수가 개발되었다.

## 피어슨 상관계수(Pearson Correlation Coefficient)

피어슨 상관계수란?

    칼 피어슨(Karl Pearson)이 개발한 상관계수로 -1~+1 범위 내의 수이다.
    적률상관계수(product-moment correlation coefficient)라고도 함
    일반적으로 상관계수라고 하면 피어슨 상관계수를 말한다.
 

피어슨 상관계수를 해석하는 법
= 1에 가까울수록 상관도는 비례하고 -1에 가까울수록 반비례한다.
= 각 데이터가 완전히 동일하면 +1, 전혀 다르면 0, 반대방향으로 완전히 동일하면 -1의 값을 갖는다.
<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdKjbNi%2FbtrmCCDcALb%2FZhIKSq4EnkvpRjMoOOPkhk%2Fimg.png'>

계수의 부호는 관계의 방향을 나타낸다.
두 변수가 함께 증가하거나 감소하는 경향(비례) 이 있으면 계수가 양수이며, 대체적으로 y=x의 그래프를 띄게 될 것이고,
한 변수가 증가할 때 다른 변수는 감소하는 경향(반비례)이 있으면 계수는 음수이며, 대체적으로 y=1/x의 그래프를 띄게 될 것이다. 

따라서 부호가 없는 상관계수값인 0인 관계가 존재하지 않으니 상관 관계자체가 없는것이다. 
극과 극이어도 연관도는 높으나 두 사이의 관계가 다를 뿐이다. 

산점도를 통해 시각화 한 피어슨 상관계수를 확인해보자.

<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbgHLMq%2FbtrmDXNOIkM%2FT5NCVN0kvxKOhBjk81iJkk%2Fimg.png'> 


파이썬에서는 .corr() 함수를 이용하여 두 변수의 상관 관계를 수치화할 수 있다. 하지만 비 선형의 데이터일 경우 상관계수만으로는 상관계수만으로는 상관관계를 알 수 없다. 따라서 산점도를 사용하는것이다.

산점도 상으로는 변수간의 선형관계가 보이지 않으나 상관계수의 값이 높게 나온 경우 아웃라이어(Outlier)(=이상치) 때문에 상관계수의 값이 비정상적으로 높게 나온 경우일 수 있음. 따라서 아웃라이어(Outlier)(=이상치) 제거 혹은 log 변환 후 산점도/상관 계수를 구해보는 것이 좋다. 

 

또한 헷갈리는 부분 중, 상관계수는 두 변수간의 연관된 정도를 나타낼 뿐 인과관계를 설명하는 수치는 아니다.

인과관계는 회귀분석을 통해 인과관계의 방향, 정도와 수학적 모델을 확인할 수 있다. 

## 스피어 상관계수(Spearman's Rank Correlation Coefficient)

스피어만 상관계수란?

    - 두 변수간의 순위 상관관계를 측정하는 비모수적 통계지표이다. 
    - 피어슨 상관계수와 달리 데이터의 분포에 대한 가정이 필요없으며, 두 변수간의 비선형적인 관계도 평가할 수 있다.
    - 스피어만 상관계수는 두 변수의 순위값을 기반으로 계산된다.

스피어만 상관계수의 해석

스피어만의 사관계수의 절댓값이 클수록 두 변수 간의 순위관계가 강하다는 것을 의미하며, 절댓값이 1이 되면 동일한 비율로 증가한다고 해석할 수 있다.

    +1 : 완벽한 양의 순위 상관관계(한 변수의 순위가 증가할 때 다른 변수의 순위도 동일한 비율로 증가)
    -1 : 완벽한 음의 순위 상관관계(한 변수의 순위가 증가할 때 다른 변수의 순위는 동일한 비율로 감소)
    0  : 순위 상관관계가 없음(두 변수 간의 순위 상관관계가 없음)

## 켄달 타우 상관계수(Kendall)

켄달 타우란?

    - 두 변수간의 상관관계를 보기 위한 분석방법
    - 통계량(계수)르 ㄹ구하는 식이 스피어만과는 다르지만, 결과는 스피어만과 유사하게 나옴(일반적으로 스피어만의 계수가 더 높게 나옵니다.)

데이터의 숫자가 작은데 정규성 가정을 만족하지 않아서 비모수 분석을 하려고 하는데, 값에 순위를 매겨보니 동일한 순위가 많은 경우에 사용가능하다.(데이터가 같은 값이 많을 경우)

켄달 타우의 계수 범위는 0부터 1까지이고, 해석은 피어슨, 스피어만과 동일하게 해석하면 됨.

켄달 타우 상관분석 (Kendall)

순위 상관계수의 종류 중 하나.
두 변수들 간의 순위를 비교하여 상관관계 계산
concordant pair :  각 변수들의 상하 관계가 같은 경우
만약 A가 B보다 키/몸무게가 다 크면 " concordant pair"을 충족한다고 할 수 있지만, A가 B모다 키는 크지만 몸무게는 적다고 하면" concordant pair"를 충족하지 못함.
샘플 사이즈가 작거나, 데이터의 크기가 비슷할 때 사용 ("concordant pair"를 충족하지 못할때 유리)
    